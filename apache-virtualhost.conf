# Apache VirtualHost Configuration for blocksystem.local
# Add this to C:\wamp64\bin\apache\apache2.4.x\conf\extra\httpd-vhosts.conf
# (Replace apache2.4.x with your actual Apache version)

# Make sure mod_proxy and mod_proxy_http are enabled
# Uncomment in httpd.conf:
# LoadModule proxy_module modules/mod_proxy.so
# LoadModule proxy_http_module modules/mod_proxy_http.so

<VirtualHost *:80>
    ServerName blocksystem.local
    ServerAlias www.blocksystem.local

    # Enable proxy modules for reverse proxy
    ProxyPreserveHost On
    ProxyRequests Off

    # Route all requests to Node.js app on port 5000
    ProxyPass / http://127.0.0.1:5000/
    ProxyPassReverse / http://127.0.0.1:5000/

    # Configure timeouts for long requests
    ProxyTimeout 300
    ProxyConnectTimeout 300
    ProxyReceiveBufferSize 4096

    # Logging (optional)
    ErrorLog logs/blocksystem-error.log
    CustomLog logs/blocksystem-access.log combined

    # Security Headers
    Header set X-Frame-Options "SAMEORIGIN"
    Header set X-Content-Type-Options "nosniff"
    Header set X-XSS-Protection "1; mode=block"
</VirtualHost>
